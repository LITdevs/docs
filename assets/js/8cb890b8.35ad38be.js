"use strict";(self.webpackChunklitdocs=self.webpackChunklitdocs||[]).push([[295],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return h}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=r.createContext({}),p=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=p(e.components);return r.createElement(u.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,u=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=p(n),h=a,m=d["".concat(u,".").concat(h)]||d[h]||c[h]||o;return n?r.createElement(m,i(i({ref:t},s),{},{components:n})):r.createElement(m,i({ref:t},s))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},6644:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return u},default:function(){return h},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return c}});var r=n(7462),a=n(3366),o=(n(7294),n(3905)),i=["components"],l={},u="OAuth",p={unversionedId:"litauth/oauth",id:"litauth/oauth",title:"OAuth",description:"The LITauth OAuth implementation is very similar to Discord's.",source:"@site/docs/litauth/oauth.md",sourceDirName:"litauth",slug:"/litauth/oauth",permalink:"/litauth/oauth",draft:!1,editUrl:"https://github.com/LITdevs/docs/tree/main/docs/litauth/oauth.md",tags:[],version:"current",frontMatter:{},sidebar:"litauth"},s={},c=[{value:"OAuth URLs",id:"oauth-urls",level:3},{value:"API URLs",id:"api-urls",level:3}],d={toc:c};function h(e){var t=e.components,n=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"oauth"},"OAuth"),(0,o.kt)("p",null,"The LITauth OAuth implementation is very similar to Discord's."),(0,o.kt)("p",null,"LITauth does not support refresh tokens, or state."),(0,o.kt)("p",null,"LITauth follows the OAuth 2.0 protocol, im not gonna write docs that are any better so just look at ",(0,o.kt)("a",{parentName:"p",href:"https://discord.com/developers/docs/topics/oauth2"},"Discord"),"'s ones. The only quirk of LITauth's implementation is the lack of a refreshToken."),(0,o.kt)("h3",{id:"oauth-urls"},"OAuth URLs"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"URL"),(0,o.kt)("th",{parentName:"tr",align:null},"Method"),(0,o.kt)("th",{parentName:"tr",align:null},"Content Type"),(0,o.kt)("th",{parentName:"tr",align:null},"Parameters"),(0,o.kt)("th",{parentName:"tr",align:null},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"/api/oauth2/token"),(0,o.kt)("td",{parentName:"tr",align:null},"POST"),(0,o.kt)("td",{parentName:"tr",align:null},"application/x-www-form-urlencoded"),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"grant_type"),", ",(0,o.kt)("inlineCode",{parentName:"td"},"code")," and ",(0,o.kt)("inlineCode",{parentName:"td"},"redirect_uri"),".",(0,o.kt)("br",null),(0,o.kt)("inlineCode",{parentName:"td"},"client_id")," and ",(0,o.kt)("inlineCode",{parentName:"td"},"client_secret")," should be passed in as HTTP Basic authentication, however also supported in the request body"),(0,o.kt)("td",{parentName:"tr",align:null},"Provides a accessToken for a valid authentication code (obtained via ",(0,o.kt)("inlineCode",{parentName:"td"},"/oauth/authorize"),")",(0,o.kt)("br",null),"Tokens expire in 7 days, after which you must reauthorize.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"/oauth/authorize"),(0,o.kt)("td",{parentName:"tr",align:null},"GET"),(0,o.kt)("td",{parentName:"tr",align:null},"url query you know"),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"client_id"),", ",(0,o.kt)("inlineCode",{parentName:"td"},"redirect_uri"),", ",(0,o.kt)("inlineCode",{parentName:"td"},"scope")," (space seperated)"),(0,o.kt)("td",{parentName:"tr",align:null},"Redirect your user here to authorize your application")))),(0,o.kt)("h3",{id:"api-urls"},"API URLs"),(0,o.kt)("p",null,"All endpoints marked authorized require Bearer token in Authorization header.\n| URL | Method | Authorized | Parameters | Scopes | Description |\n| ----------- | ----------- | ----------- | ----------- | ----------- |\n| /api/user | GET | yes | none | ",(0,o.kt)("inlineCode",{parentName:"p"},"identify")," | Returns user information, without email |\n| /api/user/email | GET | yes | none | ",(0,o.kt)("inlineCode",{parentName:"p"},"identify"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"email")," | Returns user information with email |\n| /api/avatar | POST | yes | ",(0,o.kt)("inlineCode",{parentName:"p"},"color")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"background")," hex codes | ",(0,o.kt)("inlineCode",{parentName:"p"},"avatar")," | Changes the user avatar, returns 200 OK if successful |\n| /api/avatar/:userId | GET | :userId should be the id of the user | none | Returns the user avatar as SVG |"))}h.isMDXComponent=!0}}]);